# Neural-ATTF-MATLAB-Simulator
This is the MATLAB simulator branch. This branch provides a folder with a pipeline for the Neural ATTF simulations using Robotarium MATLAB simulator.

## Test Platform
1. MATLAB R2019a

## Prerequisites
1. Install [Robotarium MATLAB simulator](https://github.com/robotarium/robotarium-matlab-simulator).
2. Copy `my_tests` folder from this repository inside the Robotarium Python simulator. The simulator directory would appear as below:
  ```
  robotarium-matlab-simulator-master/
  ├── examples
  ├── my_tests/
  │ ├── config.json
  │ ├── env.json
  │ ├── generate_submission.m
  │ ├── local_script_test1.m
  │ ├── schedule.json
  │ ├── utility.m
  │ └── warehouse_image.png
  ├── patch_generation
  ├── utilities
  ├── ARobotarium.m
  ├── init.m
  ├── LICENSE.txt
  ├── README.md
  ├── Robotarium.m
  ├── RobotariumError.m
  └── simulation_skeleton.m
  ```

## File description:
1. `config.json`: Contains the tunable parameters for the experiments.
2. `env.json`: Contains the environment data for Neural ATTF -- agent names and their start positions, number of delays per agent, total number of tasks, tasks with their frequency, start time, and waypoints, and environment map with its dimensions, non-task endpoints, and static obstacles.
3. `generate_submission.m`: Creates a folder of files inside the current working directory. These files can be uploaded to the Robotarium portal for real-world experiments.
4. `local_script_test1.m`: This is the main file for running the simulations locally.
5. `schedule.json`: Contains the schedule data generated by Neural ATTF -- path plan for each agent at each time step, number of replans, and completed times for each task.
6. `utility.m`: Contains all the helper functions required to complete simulations and real-world experiments.
7. `warehouse_image.png`: This is the background image, placed on the Robotarium simulator and the actual arena during the experiment.

## Usage
1. Tune the parameters in `config.json`.
2. Run `local_script_test1.m` for simulations and review the debug logs at the end of the simulations.
3. If debug logs don't have any collisions, run `generate_submission.m` and create a folder of files.
4. Upload all the files created by `generate_submission.m` on the Robotarium portal and select `main.m` as the main file.
5. Review the video after the Robotarium experiment.
